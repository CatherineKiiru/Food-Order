<ion-header>
	<ion-navbar color="primary">
		<ion-title *ngIf="product">{{product.name}}</ion-title>
		<ion-buttons end>
			<button ion-button icon-only (click)="closeProductModal()">
				<ion-icon name="close"></ion-icon>
			</button>
		</ion-buttons>
	</ion-navbar>
</ion-header>

<ion-content>
	<ion-grid>

		<ng-container *ngIf="product">
			<ion-row>
				<ion-col col-8>
					<p>{{product.shortDescription}}</p>
				</ion-col>
				<ion-col col-4 text-center>
					<button ion-button outline>{{product.price|priceFormat}}</button>
				</ion-col>
			</ion-row>
		</ng-container>


		<ng-container *ngIf="attributeGroups && attributeGroups.length > 0">
			<ion-row *ngFor="let attributeGroup of attributeGroups">
				<ion-col>
					<ion-list radio-group [(ngModel)]="attributeGroup.selectedAttributeBid" name={{attributeGroup.bid}}>
						<ion-list-header text-capitalize>
							<h4>
								<strong>{{attributeGroup.description}}</strong>
							</h4>
						</ion-list-header>
						<ion-item *ngFor="let attribute of attributeGroup.Product_Attributes; let i = index;" item-start>
							<ion-label>
								<span>{{attribute.Ingredient.name}}</span>
								<span *ngIf="attributeGroup.showPrice()">+{{attribute.price|priceFormat}}</span>
							</ion-label>
							<ion-radio [value]="attribute.Ingredient.bid" [checked]="attributeGroup.Product_Attributes[0].bid"></ion-radio>
						</ion-item>
					</ion-list>
				</ion-col>
			</ion-row>
		</ng-container>

		<ng-container *ngIf="ingredients && ingredients.length > 0">
			<ion-row>
				<ion-col>
					<ion-list>
						<ion-list-header text-capitalize>
							<h4>
								<strong>Επίλεξε επιπλέον υλικά</strong>
							</h4>
						</ion-list-header>
						<ion-item *ngFor="let ingredient of ingredients">
							<ion-label>{{ingredient.Ingredient.name}}</ion-label>
							<ion-toggle [(ngModel)]="ingredient.isDefault"></ion-toggle>
						</ion-item>
					</ion-list>
				</ion-col>
			</ion-row>
		</ng-container>
		<ion-row>
			<ion-col>
				<ion-textarea type="text" [(ngModel)]="info" placeholder="Παρατηρήσεις & σχόλια"></ion-textarea>
			</ion-col>
		</ion-row>

	</ion-grid>
</ion-content>

<ion-footer>
	<ion-grid>
		<ion-row>
			<ion-col col-2>
				<button ion-button block ion-icon (click)="changeQuantity(-1)">
					<ion-icon name="remove"></ion-icon>
				</button>
			</ion-col>
			<ion-col col-2>
				<ion-input [(ngModel)]="quantity" text-center>{{quantity}}</ion-input>
			</ion-col>
			<ion-col col-2>
				<button ion-button block ion-icon (click)="changeQuantity(+1)">
					<ion-icon name="add"></ion-icon>
				</button>
			</ion-col>
			<ion-col col-6>
				<button ion-button block text-capitalize (click)="addToCart()">Προσθήκη</button>
			</ion-col>
		</ion-row>
	</ion-grid>
</ion-footer>